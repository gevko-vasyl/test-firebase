(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(e,n,o){},QfWi:function(e,n,o){"use strict";o.r(n);o("L1EO");var t=o("SzhR"),a=(o("VwVG"),o("SHTW"),document.querySelector("#sign_in")),s=document.querySelector("#sign_out"),i=document.querySelector(".user-info");function c(e){return t.a.database().ref("/users/"+e).once("value")}t.a.initializeApp({apiKey:"AIzaSyB_XQuuXpnCVMzsoH_tRJd_Re2w7D-8sJE",authDomain:"test-ec373.firebaseapp.com",databaseURL:"https://test-ec373-default-rtdb.firebaseio.com",projectId:"test-ec373",storageBucket:"test-ec373.appspot.com",messagingSenderId:"655424318049",appId:"1:655424318049:web:e8ade1934133d874e6d820",measurementId:"G-RN92T8LBYY"}),a.addEventListener("click",(function(){var e=new t.a.auth.GoogleAuthProvider;t.a.auth().signInWithPopup(e).then((function(e){e.credential.accessToken;var n=e.user,o=n.uid,a=n.displayName,s=n.email,i=n.photoURL;console.log(n),console.log("Success!"),function(){var e=t.a.auth().currentUser.uid;return t.a.database().ref("/users/"+e).once("value")}().then((function(e){e.exists()?(console.log("User exist in database"),c(o)):(console.log("User NOT exist in database"),function(e,n,o,a){t.a.database().ref("users/"+e).set({username:n,email:o,profile_picture:a},(function(e){e?console.log("FAILED!!!"):console.log("SUCCESS")}))}(o,a,s,i))}))})).catch((function(e){e.code;var n=e.message;e.email,e.credential;console.log(n),console.log("Failed!")}))})),s.addEventListener("click",(function(){t.a.auth().signOut().then((function(){console.log("Sign-out successful."),window.location.href="index.html",i.innerHTML=""})).catch((function(e){console.log("ERRROR!")}))})),t.a.auth().onAuthStateChanged((function(e){if(e){var n=e.displayName,o=e.photoURL,t=(e.email,e.uid);i.innerHTML='<img class="user-img" src="'+o+'">\n           <p>'+n+"</p>",console.log("Current user: "+n,"userId: "+t),c(t)}else i.innerHTML=""}))}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.7c7667733673847338fd.js.map