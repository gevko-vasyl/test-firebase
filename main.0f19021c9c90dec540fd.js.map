{"version":3,"sources":["webpack:///./film-card.hbs","webpack:///./refs.js","webpack:///./firebase-auth.js","webpack:///./api.js","webpack:///./dataToFirebase.js","webpack:///./myLibrary.js","webpack:///./dataFromFirebase.js","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","refs","gallery","document","querySelector","home","getElementById","library","watched","queue","lightBox","signIn","signOut","userInfo","readUserData","userId","firebase","database","ref","once","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","addEventListener","provider","auth","GoogleAuthProvider","signInWithPopup","then","result","credential","accessToken","user","uid","name","displayName","email","imageUrl","photoURL","console","log","currentUser","checkUserID","exists","set","username","profile_picture","error","writeUserData","catch","code","errorMessage","message","window","location","href","innerHTML","fetchSearchedMovie","fetch","response","json","results","addToQueue","movieId","localStorage","getItem","val","includes","updateQueueList","updateWatchedList","update","renderWatched","watchedList","Promise","all","map","movieObject","movieObjects","updateMarkup","id","title","poster_path","movieCard","setAttribute","removeAttribute","renderQueue","queueList","removeListener","el","removeEventListener","event","setModalBtnWatchStyles","button","hiddenBtn","classList","add","remove","dataToFirebase","movieIndex","indexOf","splice","removeFromWatch","removeFromQueue","movie","markup","filmCard","insertAdjacentHTML","galleryListener","target","nodeName","dataset","setItem","addBtnWatch","removeBtnWatch","addBtnQueue","removeBtnQueue","dataFromWatched","dataFromQueue","contains","checkMovieInStorage","dataFromFirebase","onAuthStateChanged","get","className","myLibrary"],"mappings":"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","file":"main.0f19021c9c90dec540fd.js","sourcesContent":["var Handlebars = require(\"../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"movie-card\\\">\\r\\n    <img class=\\\"movie-poster\\\" width=\\\"100px\\\" src=https://image.tmdb.org/t/p/w500\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":79},\"end\":{\"line\":3,\"column\":94}}}) : helper)))\n    + \" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":100},\"end\":{\"line\":3,\"column\":109}}}) : helper)))\n    + \"\\\" data-movie-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":126},\"end\":{\"line\":3,\"column\":132}}}) : helper)))\n    + \"\\\">\\r\\n    <h1 class=\\\"movie-title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":28},\"end\":{\"line\":4,\"column\":37}}}) : helper)))\n    + \"</h1>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":6,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const refs = {\r\n    gallery : document.querySelector('.gallery'),\r\n    home: document.getElementById('home'),\r\n    library : document.getElementById('library'),\r\n    watched :document.getElementById('watched'),\r\n    queue :document.getElementById('queue'),\r\n    lightBox :document.querySelector('.lightbox'),  \r\n}\r\n\r\nexport default refs","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyB_XQuuXpnCVMzsoH_tRJd_Re2w7D-8sJE\",\r\n  authDomain: \"test-ec373.firebaseapp.com\",\r\n  databaseURL: \"https://test-ec373-default-rtdb.firebaseio.com\",\r\n  projectId: \"test-ec373\",\r\n  storageBucket: \"test-ec373.appspot.com\",\r\n  messagingSenderId: \"655424318049\",\r\n  appId: \"1:655424318049:web:e8ade1934133d874e6d820\",\r\n  measurementId: \"G-RN92T8LBYY\"\r\n};\r\n\r\nconst signIn = document.querySelector('#sign_in');\r\nconst signOut = document.querySelector('#sign_out');\r\nconst userInfo = document.querySelector('.user-info');\r\n\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nsignIn.addEventListener('click', googleSignIn);\r\nsignOut.addEventListener('click', googleSignOut);\r\n\r\nfunction initApp() {\r\n    firebase.auth().onAuthStateChanged(function (user) {\r\n        if (user) {\r\n            // SIGN IN\r\n            const displayName = user.displayName;\r\n            const photoURL = user.photoURL;\r\n            const email = user.email;\r\n            const uid = user.uid;\r\n            userInfo.innerHTML = `<img class=\"user-img\" src=\"${photoURL}\">\r\n           <p>${displayName}</p>`;\r\n            console.log(`Current user: ${displayName}`, `userId: ${uid}`);\r\n            readUserData(uid)\r\n        } else {\r\n            // SIGN OUT\r\n            userInfo.innerHTML = '';\r\n        }\r\n    \r\n    })\r\n};\r\n\r\nfunction googleSignIn() {\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n    firebase.auth().signInWithPopup(provider)\r\n        .then((result) => {\r\n            const credential = result.credential;\r\n            // This gives you a Google Access Token. You can use it to access the Google API. \r\n            const token = credential.accessToken;\r\n            // The signed-in user info.\r\n            const user = result.user;\r\n            const userId = user.uid;\r\n            const name = user.displayName;\r\n            const email = user.email;\r\n            const imageUrl = user.photoURL;\r\n\r\n            console.log(user);\r\n            console.log(\"Success!\");\r\n            \r\n            // Перевірка чи є вже юзер в БД, якшо неа то добавляє\r\n            checkUserID().then((data) => {\r\n                if (data.exists()) {\r\n                    console.log('User exist in database');\r\n                    // Завантажує данні з БД\r\n                    readUserData(userId);\r\n                } else {\r\n                    console.log('User NOT exist in database');\r\n                    writeUserData(userId, name, email, imageUrl);\r\n                }\r\n            });\r\n\r\n        }).catch((error) => {\r\n            // Handle Errors here.\r\n            const errorCode = error.code;\r\n            const errorMessage = error.message;\r\n            // The email of the user's account used.\r\n            const email = error.email;\r\n            // The firebase.auth.AuthCredential type that was used.\r\n            const credential = error.credential;\r\n            console.log(errorMessage);\r\n            console.log(\"Failed!\");\r\n        });\r\n};\r\n\r\nfunction googleSignOut() {\r\n    firebase.auth().signOut().then(() => {\r\n        console.log('Sign-out successful.');\r\n        window.location.href = 'index.html';\r\n        userInfo.innerHTML = '';\r\n\r\n    }).catch((error) => {\r\n        console.log('ERRROR!');\r\n    });\r\n};\r\n\r\n// ОТРИМУЄ ДАННІ ЮЗЕРА ПО АЙДІ З БД\r\nfunction checkUserID() {\r\n    const userId = firebase.auth().currentUser.uid;\r\n    return firebase.database().ref('/users/' + userId).once('value');\r\n};\r\n\r\n// ЗАПИСУЄ ОСНОВНУ ІНФУ ПО ЮЗЕР В БД, ТІЛЬКИ ПРИ РЕЄСТРАЦІЇ ПЕРШОМУ ВХОДІ\r\n\r\nfunction writeUserData(userId, name, email, imageUrl) {\r\n    firebase.database().ref('users/' + userId).set({\r\n        username: name,\r\n        email: email,\r\n        profile_picture : imageUrl\r\n    }, (error) => {\r\n        if (error) {\r\n            console.log('FAILED!!!');\r\n        } else {\r\n            console.log('SUCCESS');\r\n        };\r\n            \r\n    });\r\n};\r\n\r\nfunction readUserData(userId) {\r\n    return firebase.database().ref('/users/' + userId).once('value');\r\n}\r\n\r\nexport {initApp, readUserData, checkUserID}","import template from './film-card.hbs'\r\nimport refs from './refs.js'\r\n\r\nconst apiKey = \"api_key=50b81e1c6c3b9e5f74d2015b742ff0b0\";\r\n\r\n//ЗАПИТ ДЛЯ РЕНДЕРУ ГАЛЕРЕЇ \r\nfunction fetchSearchedMovie() {\r\n    const url = `https://api.themoviedb.org/3/trending/movie/week?${apiKey}&page=1`;\r\n  \r\n    return fetch(url)\r\n        .then(response => response.json())\r\n        .then(({ results }) => {\r\n            refs.gallery.innerHTML = template(results);\r\n        })\r\n        .catch(error => console.log(error));\r\n}\r\n\r\n// function fetchOneMovie(movie_id) {\r\n//     const url = `https://api.themoviedb.org/3/movie/${movie_id}?${apiKey}`;\r\n//     return fetch(url)\r\n//         .then(response => response.json())\r\n//         .catch(error => console.log(error));\r\n// }\r\n\r\n\r\n\r\nexport { fetchSearchedMovie };\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport * as auth from './firebase-auth.js'\r\n\r\n//ЗБЕРЕЖЕННЯ АЙДІШНІКА В БД\r\nfunction addToWatch() {\r\n    const currentUser = firebase.auth().currentUser;\r\n        console.log(currentUser);\r\n        if (currentUser) {\r\n            let uid = currentUser.uid;\r\n            let movieId = localStorage.getItem('firebase-id');\r\n            console.log(movieId);\r\n            auth.readUserData(uid)\r\n                .then((data) => data.val())\r\n                .then((data) => {\r\n                    let watched = data.watched || [];\r\n                        if (watched.includes(movieId)) {\r\n                            return\r\n                        }\r\n                        updateWatchedList(uid, [...watched, movieId]);\r\n                    })\r\n\r\n        }\r\n        \r\n}\r\n\r\n//ЗБЕРЕЖЕННЯ АЙДІШНІКА В БД\r\nfunction addToQueue() {\r\n    const currentUser = firebase.auth().currentUser;\r\n        console.log(currentUser);\r\n        if (currentUser) {\r\n            let uid = currentUser.uid;\r\n            let movieId = localStorage.getItem('firebase-id');\r\n            console.log(movieId);\r\n            auth.readUserData(uid)\r\n                .then((data) => data.val())\r\n                .then((data) => {\r\n                    let queue = data.queue || [];\r\n                        if (queue.includes(movieId)) {\r\n                            return\r\n                        }\r\n                        updateQueueList(uid, [...queue, movieId]);\r\n                    })\r\n\r\n        }\r\n        \r\n}\r\n\r\n\r\n//ФУНКЦІЯ ДЛЯ ОНОВЛЕННЯ СПИСКУ АЙДІШНІКІВ В БД\r\nfunction updateWatchedList(userId, movieId) {\r\n    firebase.database().ref('users/' + userId).update({\r\n        watched: movieId,\r\n    }, (error) => {\r\n        if (error) {\r\n            console.log('FAIL!')\r\n        } else {\r\n            console.log('DATA UPDATE SUCCESSFULLY')\r\n        };\r\n    });\r\n}\r\n\r\n//ФУНКЦІЯ ДЛЯ ОНОВЛЕННЯ СПИСКУ АЙДІШНІКІВ В БД\r\nfunction updateQueueList(userId, movieId) {\r\n    firebase.database().ref('users/' + userId).update({\r\n        queue: movieId,\r\n    }, (error) => {\r\n        if (error) {\r\n            console.log('FAIL!')\r\n        } else {\r\n            console.log('DATA UPDATE SUCCESSFULLY')\r\n        };\r\n    });\r\n}\r\n\r\nexport {addToWatch,  updateWatchedList, addToQueue, updateQueueList}","import refs from './refs.js'\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport * as dataFromFirebase from './dataFromFirebase.js'\r\n\r\n\r\n//ПОКАЗУЄ БІБЛІОТЕКУ ФІЛЬМІВ\r\nfunction showMyLibrary() {\r\n    refs.gallery.innerHTML = '';\r\n    refs.watched.classList.remove('hide');\r\n    refs.queue.classList.remove('hide');\r\n    refs.watched.removeAttribute('disabled');\r\n    renderWatched();\r\n};\r\n\r\n// РЕНДЕР ПЕРЕГЛЯНУТИХ ПО АЙДІШНИКАХ З БД\r\nfunction renderWatched() {\r\n    refs.gallery.innerHTML = '';\r\n    if (firebase.auth().currentUser) {\r\n        dataFromFirebase.getMoviesWatched(firebase.auth().currentUser.uid);\r\n    }\r\n    const movieCard = document.querySelector('.movie-card')\r\n    console.log(movieCard);\r\n    refs.watched.setAttribute('disabled', 'true');\r\n    refs.queue.removeAttribute('disabled');\r\n};\r\n\r\n// РЕНДЕР ТИХ ШО В ЧЕРЗІ ПО АЙДІШНИКАХ З БД\r\nfunction renderQueue() {\r\n    refs.gallery.innerHTML = '';\r\n    if (firebase.auth().currentUser) {\r\n        dataFromFirebase.getMoviesQueue(firebase.auth().currentUser.uid);\r\n    }\r\n    refs.watched.removeAttribute('disabled');\r\n    refs.queue.setAttribute('disabled', 'true');\r\n};\r\n\r\n\r\n\r\nexport {renderWatched, renderQueue,showMyLibrary}","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport filmCard from './film-card.hbs';\r\nimport refs from './refs.js';\r\nimport * as auth from './firebase-auth.js';\r\nimport * as dataToFirebase from './dataToFirebase.js';\r\nimport * as myLibrary from './myLibrary.js';\r\n\r\n\r\n// function modalAddWatchBtnFn(button, hiddenBtn) {\r\n//     button.classList.add('hide')\r\n//     hiddenBtn.classList.remove('hide')\r\n//     dataToFirebase.addToWatch();\r\n// };\r\n// function modalRemoveWatchBtnFn(button, hiddenBtn) {\r\n//     button.classList.add('hide')\r\n//     hiddenBtn.classList.remove('hide')\r\n//     removeFromWatch();\r\n// };\r\nconst modalAddQueueBtnFn = function (button, hiddenBtn) {\r\n    button.classList.add('hide')\r\n    hiddenBtn.classList.remove('hide')\r\n    dataToFirebase.addToQueue();\r\n};\r\nconst modalRemoveQueueBtnFn = function (button, hiddenBtn) {\r\n    button.classList.add('hide')\r\n    hiddenBtn.classList.remove('hide')\r\n    removeFromQueue();\r\n};\r\n\r\nfunction removeListener(el) {\r\n    el.removeEventListener('click',event)\r\n}\r\n\r\n//ФУКНЦІЯ ЯКА ПЕРЕВІРЯЄ ЧИ Є В БД АЙДІШНИК ПО ЯКОМУ КЛІКНУЛИ\r\n//І РОБИТЬ ВІДПОВІДНІ СТИЛІ ДЛЯ КНОПОК\r\nfunction setModalBtnWatchStyles(button, hiddenBtn) {\r\n    // button.textContent = 'ADD TO WATCHED'\r\n    // button.removeAttribute('disabled');\r\n    button.addEventListener('click', event => {\r\n        button.classList.add('hide')\r\n        hiddenBtn.classList.remove('hide')\r\n        dataToFirebase.addToWatch();\r\n        removeListener(button);\r\n    });\r\n\r\n\r\n    \r\n    hiddenBtn.addEventListener('click', event =>  {\r\n        button.classList.remove('hide')\r\n        hiddenBtn.classList.add('hide')\r\n        removeFromWatch(); \r\n        removeListener(hiddenBtn);\r\n    });\r\n\r\n    // button.removeEventListener('click', event);\r\n    // removeListener(button);\r\n    // hiddenBtn.removeEventListener('click', event)\r\n    // removeListener(hiddenBtn);\r\n\r\n\r\n\r\n    // const currentUser = firebase.auth().currentUser;\r\n    // if (currentUser) {\r\n    //     let uid = currentUser.uid;\r\n    //     let movieId = localStorage.getItem('firebase-id');\r\n    //     console.log(movieId);\r\n    //     auth.readUserData(uid)\r\n    //         .then((data) => data.val())\r\n    //         .then((data) => {\r\n    //             let watched = data.watched || [];\r\n\r\n    //             // if(!watched.includes(movieId)) {\r\n    //             //     button.textContent = 'ADD TO WATCHED'\r\n    //             //     button.setAttribute('disabled', 'false');\r\n                    \r\n    //             // }\r\n\r\n    //             if (watched.includes(movieId)) {\r\n    //                 button.classList.add=('inactive-btn-style')\r\n    //                 button.textContent = 'ALREADY IN WATCHED'\r\n    //                 button.setAttribute('disabled', 'true');\r\n\r\n    //             }\r\n    //         })\r\n    // }\r\n    // button.classList.add('hide');\r\n}\r\n\r\nfunction setModalBtnQueueStyles(button,hiddenBtn) {\r\n    // button.addEventListener('click', modalAddQueueBtnFn(button, hiddenBtn));\r\n    // hiddenBtn.addEventListener('click', modalRemoveQueueBtnFn(button, hiddenBtn));\r\n\r\n\r\n    button.addEventListener('click', () => {\r\n        button.classList.add('hide')\r\n        hiddenBtn.classList.remove('hide')\r\n        dataToFirebase.addToQueue();\r\n    });\r\n\r\n\r\n    \r\n    hiddenBtn.addEventListener('click', () => {\r\n        button.classList.remove('hide')\r\n        hiddenBtn.classList.add('hide')\r\n        removeFromQueue(); \r\n    });\r\n\r\n    // const currentUser = firebase.auth().currentUser;\r\n    // if (currentUser) {\r\n    //     let uid = currentUser.uid;\r\n    //     let movieId = localStorage.getItem('firebase-id');\r\n    //     console.log(movieId);\r\n    //     auth.readUserData(uid)\r\n    //         .then((data) => data.val())\r\n    //         .then((data) => {\r\n    //             let queue = data.queue || [];\r\n\r\n    //             // if(!watched.includes(movieId)) {\r\n    //             //     button.textContent = 'ADD TO WATCHED'\r\n    //             //     button.setAttribute('disabled', 'false');\r\n                    \r\n    //             // }\r\n\r\n    //             if (queue.includes(movieId)) {\r\n    //                 button.classList.add=('inactive-btn-style')\r\n    //                 button.textContent = 'ALREADY IN QUEUE'\r\n    //                 button.setAttribute('disabled', 'true');\r\n\r\n    //             }\r\n    //         })\r\n    // }\r\n}\r\n\r\n// ФУНКЦІЯ ДЛЯ ЩОБ ОТРИМАТИ АЙДІШНИКИ З БД І ПО НИМ ЗРОБИТИ ЗАПИТ НА СЕРВЕР\r\n// ТА ВІД РЕНДЕРИТИ РОЗМІТКУ ПО ОТРИМАНИХ ДАННИХ\r\nfunction getMoviesWatched(uid) {\r\n    auth.readUserData(uid)\r\n        .then((data) => data.val())\r\n        .then(async(data) => {\r\n            if (data.watched) {\r\n                let watchedList = data.watched;\r\n                let movieObjects = await Promise.all(\r\n                    watchedList.map(async movieId => {\r\n                        let movieObject = await fetch(\r\n                            `https://api.themoviedb.org/3/movie/${movieId}?api_key=50b81e1c6c3b9e5f74d2015b742ff0b0&`,\r\n                        );\r\n                        return movieObject.json();\r\n                    }),\r\n                )\r\n\r\n                console.log(movieObjects);\r\n                movieObjects.map(({ id, title, poster_path }) => {\r\n                    const movie = [{ id, title, poster_path }];\r\n                    updateMarkup(movie);\r\n                });\r\n                \r\n            }\r\n        }).catch((error)=>console.log(\"error\"))\r\n}\r\n\r\nfunction getMoviesQueue(uid) {\r\n    auth.readUserData(uid)\r\n        .then((data) => data.val())\r\n        .then(async(data) => {\r\n            if (data.queue) {\r\n                let queueList = data.queue;\r\n                let movieObjects = await Promise.all(\r\n                    queueList.map(async movieId => {\r\n                        let movieObject = await fetch(\r\n                            `https://api.themoviedb.org/3/movie/${movieId}?api_key=50b81e1c6c3b9e5f74d2015b742ff0b0&`,\r\n                        );\r\n                        return movieObject.json();\r\n                    }),\r\n                )\r\n\r\n                console.log(movieObjects);\r\n                movieObjects.map(({ id, title, poster_path }) => {\r\n                    const movie = [{ id, title, poster_path }];\r\n                    updateMarkup(movie);\r\n                });\r\n                \r\n            }\r\n        }).catch((error)=>console.log(\"error\"))\r\n}\r\n\r\n\r\n// ФУНКЦІЯ ЯКА ЧИСТИТЬ РОЗМІТКУ\r\n// ВИДАЛЯЄ АЙДІШНИК ФІЛЬМА НА ЯКОМУ КЛІКНУЛИ КНОПКУ З БД\r\n// І РЕНДЕРИТЬ НОВУ РОЗМІТКУ ПО АЙДІШНИКАХ ЯКІ ЛИШИЛИСЬ В БД\r\nfunction removeFromWatch() {\r\n    const currentUser = firebase.auth().currentUser;\r\n    if (currentUser) {\r\n        // refs.gallery.innerHTML = '';\r\n        let uid = currentUser.uid;\r\n        let movieId = localStorage.getItem('firebase-id');\r\n        auth.readUserData(uid)\r\n        .then((data) => data.val())\r\n        .then((data) => {\r\n            if (data.watched) {\r\n                let watched = data.watched || [];\r\n                if (watched.includes(movieId)) {\r\n                    let movieIndex = watched.indexOf(movieId)\r\n                    watched.splice(movieIndex, 1);\r\n                    console.log('NEW WATCHED', watched)\r\n                };\r\n                dataToFirebase.updateWatchedList(uid, [...watched]);\r\n                // myLibrary.renderWatched();\r\n            }\r\n        })\r\n        console.log(watched);\r\n    }\r\n\r\n}\r\n\r\nfunction removeFromQueue() {\r\n    const currentUser = firebase.auth().currentUser;\r\n    if (currentUser) {\r\n        // refs.gallery.innerHTML = '';\r\n        let uid = currentUser.uid;\r\n        let movieId = localStorage.getItem('firebase-id');\r\n        auth.readUserData(uid)\r\n        .then((data) => data.val())\r\n        .then((data) => {\r\n            if (data.queue) {\r\n                let queue = data.queue || [];\r\n                if (queue.includes(movieId)) {\r\n                    let movieIndex = queue.indexOf(movieId)\r\n                    queue.splice(movieIndex, 1);\r\n                    console.log('NEW QUEUE', queue)\r\n                };\r\n                dataToFirebase.updateQueueList(uid, [...queue]);\r\n                // myLibrary.renderQueue();\r\n            }\r\n        })\r\n        console.log(queue);\r\n    }\r\n\r\n}\r\n\r\n//РЕНДЕР РОЗМІТКИ ПО ШАБЛОНУ\r\nfunction updateMarkup(movie) {\r\n    let markup = filmCard(movie);;\r\n    refs.gallery.insertAdjacentHTML('beforeend', markup);\r\n};\r\n\r\n\r\n\r\n\r\nexport {getMoviesWatched,removeFromWatch,getMoviesQueue,removeFromQueue, setModalBtnWatchStyles,setModalBtnQueueStyles}","import './styles.css';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport refs from './refs.js'\r\nimport * as auth from './firebase-auth.js'\r\nimport * as get from './api.js'\r\nimport * as dataToFirebase from './dataToFirebase.js'\r\nimport * as dataFromFirebase from './dataFromFirebase.js'\r\nimport * as myLibrary from './myLibrary.js'\r\n\r\nauth.initApp();\r\nget.fetchSearchedMovie();\r\n\r\n\r\nrefs.gallery.addEventListener('click', galleryListener);\r\n\r\nfunction galleryListener(event) {\r\n    // refs.gallery.addEventListener('click', galleryListener);\r\n    if (event.target.nodeName !== 'IMG') {\r\n    return\r\n    }\r\n    refs.lightBox.classList.add('is-open');\r\n    let movieId = event.target.dataset.movieId;\r\n    localStorage.setItem('firebase-id', movieId);\r\n    const addBtnWatch = refs.lightBox.querySelector('li button');\r\n    const removeBtnWatch = refs.lightBox.querySelector('li:nth-last-child(3) button');\r\n    const addBtnQueue = refs.lightBox.querySelector('li:nth-last-child(2) button');\r\n    const removeBtnQueue = refs.lightBox.querySelector('li:last-child button');\r\n    console.log(addBtnWatch);\r\n    console.log(removeBtnWatch);\r\n    console.log(addBtnQueue);\r\n    console.log(removeBtnQueue);\r\n    checkMovieInStorage(movieId, addBtnWatch, removeBtnWatch, addBtnQueue, removeBtnQueue);\r\n    dataFromFirebase.setModalBtnWatchStyles(addBtnWatch,removeBtnWatch);\r\n    dataFromFirebase.setModalBtnQueueStyles(addBtnQueue, removeBtnQueue);\r\n\r\n    // refs.gallery.removeEventListener('click', galleryListener);\r\n    // removeListener(); \r\n    // if (event.target.className === 'lightbox__overlay') {\r\n    //     removeListener(); \r\n    // }\r\n\r\n}\r\n// console.log(addBtnWatch)\r\n// galleryListener();\r\n\r\nfunction removeListener() {\r\n    refs.gallery.removeEventListener('click', galleryListener);\r\n}\r\n// refs.gallery.removeEventListener('click', galleryListener);\r\n\r\nfunction checkMovieInStorage(movieId, addBtnWatch, removeBtnWatch,addBtnQueue,removeBtnQueue) {\r\n  let currentUser = firebase.auth().currentUser\r\n  if (!currentUser) {\r\n    return;\r\n  }\r\n\r\n  auth.readUserData(currentUser.uid)\r\n    .then((data) => (data.val())).then((data) => {\r\n      if (data.watched || data.queue) {\r\n        console.log(\"we are in!\")\r\n        const dataFromWatched = data.watched ||[];\r\n        const dataFromQueue = data.queue ||[];\r\n        console.log(\"ok\")\r\n        // const addToWatched = refs.addToWatched(true);\r\n        // const addToQueue = refs.addToQueue(true);\r\n\r\n        if (dataFromWatched.includes(movieId)) {\r\n          if (!addBtnWatch.classList.contains(\"hide\")) {\r\n            \r\n              addBtnWatch.classList.add('hide');\r\n              removeBtnWatch.classList.remove('hide');\r\n            // addToWatched.textContent = \"ALREADY IN WATCHED\";\r\n            // addToWatched.setAttribute(\"disabled\", 'true');\r\n          }\r\n          } else {\r\n            addBtnWatch.classList.remove('hide');\r\n              removeBtnWatch.classList.add('hide');\r\n        }\r\n        if (dataFromQueue.includes(movieId)) {\r\n          if (!addBtnQueue.classList.contains(\"hide\")) {\r\n            \r\n              addBtnQueue.classList.add('hide');\r\n              removeBtnQueue.classList.remove('hide');\r\n            // addToQueue.textContent = \"ALREADY IN QUEUE\";\r\n            // addToQueue.setAttribute(\"disabled\", 'true');\r\n\r\n          }\r\n        } else {\r\n            addBtnQueue.classList.remove('hide');\r\n              removeBtnQueue.classList.add('hide');\r\n        }\r\n      }\r\n    })\r\n\r\n}\r\n\r\n\r\n\r\n// refs.gallery.removeEventListener('click', galleryListener);\r\n\r\n\r\n\r\n// refs.gallery.addEventListener(\"click\", (event) => {\r\n//     if (event.target.classList.contains(\"del-movie-btn\")\r\n//         && refs.watched.classList.contains('active-watch')) {\r\n//         let movieId = event.target.id;\r\n//         localStorage.setItem('firebase-id', movieId)\r\n//         console.log(\"Hello\")\r\n//         dataFromFirebase.removeFromWatch();\r\n//     };\r\n//         if (event.target.classList.contains(\"del-movie-btn\")\r\n//         && refs.queue.classList.contains('active-queue')) {\r\n//         let movieId = event.target.id;\r\n//         localStorage.setItem('firebase-id', movieId)\r\n//         console.log(\"Hello\")\r\n//         dataFromFirebase.removeFromQueue();\r\n\r\n//     };\r\n// });\r\n\r\nrefs.lightBox.addEventListener('click', (event) => {\r\n    if (event.target.className === 'lightbox__overlay') {\r\n        refs.lightBox.classList.remove('is-open');\r\n    };\r\n\r\n    // if (event.target.id === 'add-watched') {\r\n    //     dataToFirebase.addToWatch();\r\n    // };\r\n    if (event.target.id === 'add-queue') {\r\n        dataToFirebase.addToQueue();\r\n    }\r\n});\r\n\r\n\r\nrefs.library.addEventListener('click', myLibrary.showMyLibrary);\r\n\r\n\r\nrefs.home.addEventListener('click', () => {\r\n    refs.watched.classList.add('hide');\r\n    refs.queue.classList.add('hide');\r\n    get.fetchSearchedMovie()\r\n});\r\n\r\nrefs.watched.addEventListener('click', watchService);\r\nrefs.queue.addEventListener('click', queueService);\r\n\r\nfunction watchService() {\r\n    myLibrary.renderWatched();\r\n    refs.queue.classList.remove('active-queue');\r\n    refs.watched.classList.add('active-watch');\r\n}\r\n\r\nfunction queueService() {\r\n    myLibrary.renderQueue();\r\n    refs.watched.classList.remove('active-watch');\r\n    refs.queue.classList.add('active-queue');\r\n}\r\n\r\n\r\n// function switcher() {\r\n    // const elements = document.querySelectorAll('.watch-js')\r\n    // for (let el of elements) {\r\n    //     if (el.classList.contains('hide')) {\r\n    //         el.classList.remove('hide');\r\n    //     } else {\r\n    //         el.classList.add('hide');\r\n    //     }\r\n    // }\r\n// }\r\n\r\n"],"sourceRoot":""}